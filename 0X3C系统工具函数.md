# 0X3C系统工具函数

## 前置知识

* 0X3B命令行参数

## 正文

### 交互模式

参数`-i`会在执行过脚本之后进入交互式编程环境.

退出交互模式一般有两种方法.一是输入文件终止符(EOF),一般类Unix系统shell下快捷键是C-d,Windows下的快捷键是C-z.

另一种方法是调用标准库中的函数os.exit.这个函数可以不带参数调用,也可以带参数.

>```lua
>os.exit(true)
>```

这个调用,推出状态为`EXIT_SUCCESS`.如果用`false`,则退出状态为`EXIT_FAILURE`.

其实它还可以接收第二个可选参数,如果第二个可选参数为`true`.则会在退出前关闭Lua state.至于Lua state是什么,可能要到介绍Lua和C的交互时会有所涉及.

### 获取系统环境变量

使用os.getenv函数可以获取系统环境变量(例如bash中的PATH变量等).需要把变量名作为参数传入.例如:

>```lua
>os.getenv('PATH')
>```

### 设置区域设置(本地化)

区域设置可能影响到时间显示,数字显示等的方式.Lua可以设置当前进程的区域设置.这个区域设置独立于系统的区域设置.

它接受的第一个参数locale是表示要设置的区域的字符串.如果为空字符串则设置为和系统一致.如果为`"C"`则设置为标准C的设置.

它还有一个可选参数category.这个参数表示要设置的项目类别,默认为`"all"`,表示全部可选的内容.除此以外可选的项目还有:

| 字符串 |
| ---- |
| collate |
| ctype |
| monetary |
| numeric |
| time |

如果调用 这个函数时传给第一个参数nil值,则它会返回指定目录当前的区域设置.

例如:

>```lua
>os.setlocale()
>os.setlocale(nil,'ctype')
>```

## 后续推荐

* 0X3C简单输入输出流